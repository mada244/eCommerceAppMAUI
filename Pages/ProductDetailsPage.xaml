<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EcommerceApp.ProductDetailsPage"
             BackgroundColor="#d2c4ad">
    <ScrollView>
        <VerticalStackLayout Padding="0,40,0,40" Spacing="0" VerticalOptions="CenterAndExpand">
            <Frame BackgroundColor="White" CornerRadius="24" Padding="24" Margin="24,0,24,0" HasShadow="True">
                <VerticalStackLayout Spacing="18" HorizontalOptions="Center">
                    <Frame BackgroundColor="#f3f1ee" CornerRadius="18" Padding="0" HasShadow="False" Margin="0,0,0,0">
                        <Image Source="{Binding SelectedImage}" HeightRequest="220" Aspect="AspectFill" WidthRequest="320"/>
                    </Frame>
                    <Label Text="{Binding Name}" FontSize="28" FontAttributes="Bold" TextColor="#2d2233" HorizontalOptions="Center"/>
                    <Label Text="{Binding Description}" FontSize="16" TextColor="#7B7B7B" HorizontalOptions="Center"/>
                    <HorizontalStackLayout Spacing="12" HorizontalOptions="Center">
                        <Label Text="{Binding Price, StringFormat='$ {0:F2}'}" FontSize="22" TextColor="#2d2233" FontAttributes="Bold"/>
                        <Label Text="{Binding OldPrice, StringFormat='$ {0:F2}'}" FontSize="18" TextColor="#bdbdbd" TextDecorations="Strikethrough"/>
                    </HorizontalStackLayout>
                    <Label Text="Colors:" FontSize="18" FontAttributes="Bold" Margin="0,10,0,0" TextColor="#2d2233"/>
                    <CollectionView ItemsSource="{Binding Colors}" SelectionMode="Single" HeightRequest="50">
                        <CollectionView.ItemsLayout>
                            <LinearItemsLayout Orientation="Horizontal"/>
                        </CollectionView.ItemsLayout>
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Frame Padding="10" BackgroundColor="#f3f1ee" CornerRadius="8" Margin="5">
                                    <Label Text="{Binding .}" HorizontalOptions="Center"/>
                                </Frame>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                    <Label Text="Sizes:" FontSize="18" FontAttributes="Bold" Margin="0,10,0,0" TextColor="#2d2233"/>
                    <CollectionView ItemsSource="{Binding Sizes}" SelectionMode="Single" HeightRequest="50">
                        <CollectionView.ItemsLayout>
                            <LinearItemsLayout Orientation="Horizontal"/>
                        </CollectionView.ItemsLayout>
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Frame Padding="10" BackgroundColor="#f3f1ee" CornerRadius="8" Margin="5">
                                    <Label Text="{Binding .}" HorizontalOptions="Center"/>
                                </Frame>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                    <HorizontalStackLayout Spacing="10" Margin="0,10,0,0" HorizontalOptions="Center">
                        <Button Text="-" Clicked="OnDecreaseQuantityClicked" WidthRequest="40" HeightRequest="40" BackgroundColor="#f3f1ee" TextColor="#2d2233" FontSize="20"/>
                        <Label Text="{Binding Quantity}" FontSize="20" VerticalOptions="Center" TextColor="#2d2233"/>
                        <Button Text="+" Clicked="OnIncreaseQuantityClicked" WidthRequest="40" HeightRequest="40" BackgroundColor="#f3f1ee" TextColor="#2d2233" FontSize="20"/>
                    </HorizontalStackLayout>
                    <Button Text="Add to Cart" BackgroundColor="Black" TextColor="White" CornerRadius="18" FontSize="18" HeightRequest="50" Margin="0,20,0,0" Clicked="OnAddToCartClicked"/>
                    <Button Text="❤ Favorite" BackgroundColor="#f3f1ee" TextColor="#2d2233" CornerRadius="18" FontSize="16" HeightRequest="44" Margin="0,10,0,0" Clicked="OnFavoriteClicked"/>
                </VerticalStackLayout>
            </Frame>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
